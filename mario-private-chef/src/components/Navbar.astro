---
const navLinks = [
  { label: 'Home', href: '#home' },
  { label: 'About', href: '#about' },
  { label: 'Services', href: '#services' },
  { label: 'Gallery', href: '#gallery' },
  { label: 'Contact', href: '#contact' },
]
---

<nav id="navbar" class="fixed top-0 left-0 w-full z-50 transition-all duration-500">
  <div class="px-6 md:px-20 lg:px-32 xl:px-48 py-4 flex items-center justify-between">
    <a href="#home" class="flex items-center">
      <img src="/logo-full.svg" alt="Mario Private Chef" class="h-10 md:h-12" />
    </a>

    <ul class="hidden md:flex items-center gap-8">
      {navLinks.map(link => (
        <li>
          <a href={link.href} class="text-sm uppercase tracking-[0.2em] text-gray-light hover:text-primary transition-colors duration-300 font-body">
            {link.label}
          </a>
        </li>
      ))}
    </ul>

    <a href="https://wa.me/50686307133" target="_blank" class="hidden md:inline-flex items-center gap-2 border border-primary text-primary text-xs uppercase tracking-[0.2em] px-5 py-2.5 hover:bg-primary hover:text-dark transition-all duration-300">
      Book Now
    </a>

    <button id="menu-toggle" class="md:hidden flex flex-col gap-1.5 p-2" aria-label="Toggle menu">
      <span class="menu-line w-6 h-[1.5px] bg-white transition-all duration-300"></span>
      <span class="menu-line w-6 h-[1.5px] bg-white transition-all duration-300"></span>
      <span class="menu-line w-4 h-[1.5px] bg-white transition-all duration-300 ml-auto"></span>
    </button>
  </div>

  <div id="mobile-menu" class="md:hidden max-h-0 overflow-hidden transition-all duration-500 bg-dark/95 backdrop-blur-md">
    <ul class="flex flex-col items-center gap-6 py-8">
      {navLinks.map(link => (
        <li>
          <a href={link.href} class="mobile-link text-sm uppercase tracking-[0.25em] text-gray-light hover:text-primary transition-colors duration-300 font-body">
            {link.label}
          </a>
        </li>
      ))}
      <li>
        <a href="https://wa.me/50686307133" target="_blank" class="inline-flex items-center gap-2 border border-primary text-primary text-xs uppercase tracking-[0.2em] px-5 py-2.5 hover:bg-primary hover:text-dark transition-all duration-300">
          Book Now
        </a>
      </li>
    </ul>
  </div>
</nav>

<script>
  const navbar = document.getElementById('navbar')!
  window.addEventListener('scroll', () => {
    if (window.scrollY > 50) {
      navbar.classList.add('bg-dark/95', 'backdrop-blur-md', 'shadow-lg', 'shadow-black/20')
    } else {
      navbar.classList.remove('bg-dark/95', 'backdrop-blur-md', 'shadow-lg', 'shadow-black/20')
    }
  })

  const toggle = document.getElementById('menu-toggle')!
  const menu = document.getElementById('mobile-menu')!
  const lines = toggle.querySelectorAll('.menu-line')

  toggle.addEventListener('click', () => {
    const isOpen = menu.classList.contains('max-h-96')
    if (isOpen) {
      menu.classList.remove('max-h-96')
      menu.classList.add('max-h-0')
      lines[0].classList.remove('rotate-45', 'translate-y-[4.5px]')
      lines[1].classList.remove('opacity-0')
      lines[2].classList.remove('-rotate-45', '-translate-y-[4.5px]', 'w-6')
    } else {
      menu.classList.remove('max-h-0')
      menu.classList.add('max-h-96')
      lines[0].classList.add('rotate-45', 'translate-y-[4.5px]')
      lines[1].classList.add('opacity-0')
      lines[2].classList.add('-rotate-45', '-translate-y-[4.5px]', 'w-6')
    }
  })

  document.querySelectorAll('.mobile-link').forEach(link => {
    link.addEventListener('click', () => {
      menu.classList.remove('max-h-96')
      menu.classList.add('max-h-0')
      lines[0].classList.remove('rotate-45', 'translate-y-[4.5px]')
      lines[1].classList.remove('opacity-0')
      lines[2].classList.remove('-rotate-45', '-translate-y-[4.5px]', 'w-6')
    })
  })
</script>